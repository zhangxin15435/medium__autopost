# 新CSV列名格式说明

## 📋 概述

根据用户需求，系统现在支持新的CSV列名格式。新格式提供了更详细的文章管理功能，包括作者信息、格式转换、发布渠道等。

## 🔄 列名对比

### 旧格式（仍然支持）
| 列名 | 说明 | 必填 |
|------|------|------|
| 标题 | 文章标题 | ✅ |
| 内容 | 文章内容 | ✅ |
| 是否发送 | 是否发布（是/否） | ✅ |
| 标签 | 文章标签，逗号分隔 | ❌ |
| 图片链接 | 文章配图URL | ❌ |
| 备注 | 备注信息 | ❌ |

### 新格式
| 列名 | 说明 | 必填 | 对应旧格式 |
|------|------|------|------------|
| 主题 | 文章主题/标题 | ✅ | 标题 |
| 发布 | 是否发布（是/否） | ✅ | 是否发送 |
| 提出人 | 文章作者 | ❌ | 无 |
| 发布内容 | 文章正文内容 | ✅ | 内容 |
| 格式转换 | 内容格式（markdown/html） | ❌ | 无 |
| markdown格标签 | 文章标签，逗号分隔 | ❌ | 标签 |
| 图片 | 配图URL | ❌ | 图片链接 |
| 渠道&账号 | 发布渠道和账号信息 | ❌ | 无 |
| 发布完成 | 发布是否完成（是/否） | ❌ | 无 |

## ✨ 新功能特性

### 1. 作者管理
- **提出人**列可以记录文章的原始作者
- 便于团队协作和文章归属管理

### 2. 格式支持
- **格式转换**列支持指定内容格式
- 支持 `markdown` 和 `html` 两种格式
- 默认为 `markdown`

### 3. 渠道管理
- **渠道&账号**列可以指定发布目标
- 格式示例：`Medium/@username`
- 支持多平台发布策略

### 4. 状态跟踪
- **发布完成**列记录实际发布状态
- 与**发布**列配合使用：
  - 发布="是"：计划发布
  - 发布完成="是"：已完成发布

## 📝 使用示例

### CSV文件示例
```csv
主题,发布,提出人,发布内容,格式转换,markdown格标签,图片,渠道&账号,发布完成
提升工作效率的10个方法,是,张三,在现代职场中...,markdown,"工作效率,时间管理",https://example.com/img.jpg,Medium/@zhangsan,否
AI技术应用,否,李四,人工智能正在改变...,markdown,"AI,科技",,Medium/@lisi,否
```

### 使用新格式模板
```bash
# 运行测试脚本创建示例文件
node scripts/test-new-format.js

# 示例文件将创建在 test-files/new-format-sample.csv
```

## 🔧 向后兼容性

系统完全兼容旧的CSV格式：
- 自动检测CSV文件使用的格式
- 旧格式文件可以正常读取和处理
- 可以混合使用新旧格式的文件

## 🚀 快速开始

1. **使用模板文件**
   ```bash
   # 复制新格式模板
   cp templates/new-format-template.csv my-articles-new.csv
   ```

2. **编辑文件**
   - 使用Excel或任何CSV编辑器打开
   - 按照列名说明填写内容

3. **上传发布**
   - 通过Web界面上传
   - 或使用API批量发布

## 📌 注意事项

1. **编码格式**：CSV文件必须使用UTF-8编码
2. **逗号分隔**：标签使用英文逗号分隔
3. **布尔值**：是否类字段只接受"是"或"否"
4. **URL格式**：图片链接必须是完整的URL

## 🛠️ API支持

批量上传API自动支持新格式：
```bash
curl -X POST https://your-domain.vercel.app/api/batch-upload \
  -F "file=@my-articles-new.csv" \
  -H "Authorization: Bearer YOUR_API_KEY"
```

## 📚 相关文档

- [使用指南](../usage-guide.md)
- [API文档](../README.md#api-endpoints)
- [批量发布指南](../PUBLISH-GUIDE.md) 