# ğŸ“– Mediumè‡ªåŠ¨å‘å¸ƒä½¿ç”¨æŒ‡å—

åŸºäºé€†å‘åˆ†ææŠ€æœ¯çš„æ— Tokenå‘å¸ƒæ–¹æ¡ˆ

## ğŸ”§ å‰ç½®å‡†å¤‡

### 1. æ£€æŸ¥Cookieæ–‡ä»¶
```bash
# ç¡®è®¤cookies.jsonæ–‡ä»¶å­˜åœ¨
ls cookies.json
```

å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œéœ€è¦ï¼š
1. æµè§ˆå™¨ç™»å½• Medium.com
2. æŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·
3. è½¬åˆ° Application â†’ Storage â†’ Cookies â†’ https://medium.com
4. å¤åˆ¶æ‰€æœ‰Cookieä¿å­˜ä¸º `cookies.json` æ ¼å¼

### 2. éªŒè¯ç¯å¢ƒ
```bash
# ç¡®è®¤Node.jså’Œä¾èµ–
node --version
npm list
```

## ğŸš€ å‘å¸ƒæ–¹å¼

### æ–¹å¼1: å¿«é€Ÿæ¼”ç¤ºå‘å¸ƒ
```bash
# è¿è¡Œé¢„è®¾çš„æ¼”ç¤ºæ–‡ç« 
node scripts/reverse-only-publish.js --demo
```

**ç‰¹ç‚¹**ï¼šå†…ç½®æµ‹è¯•æ–‡ç« ï¼Œå¿«é€ŸéªŒè¯åŠŸèƒ½

### æ–¹å¼2: è‡ªå®šä¹‰æ–‡ç« å‘å¸ƒ
```bash
# å‘å¸ƒç¤ºä¾‹æ–‡ç« 
node scripts/custom-publish.js

# ä»æ–‡ä»¶å‘å¸ƒ
node scripts/custom-publish.js --file example-article.json

# æŸ¥çœ‹å¸®åŠ©
node scripts/custom-publish.js --help
```

**ç‰¹ç‚¹**ï¼šçµæ´»è‡ªå®šä¹‰ï¼Œæ”¯æŒæ–‡ä»¶è¾“å…¥

### æ–¹å¼3: å®Œæ•´æµ‹è¯•å‘å¸ƒ
```bash
# è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶ï¼ˆ3ç¯‡æ–‡ç« ï¼‰
node scripts/test-working-publisher.js
```

**ç‰¹ç‚¹**ï¼šæµ‹è¯•æ‰€æœ‰åŠŸèƒ½ï¼ŒåŒ…å«æ‰¹é‡å‘å¸ƒ

## ğŸ“ æ–‡ç« æ ¼å¼

### JSONæ ¼å¼ç¤ºä¾‹
```json
{
  "title": "æ–‡ç« æ ‡é¢˜",
  "subtitle": "å‰¯æ ‡é¢˜ï¼ˆå¯é€‰ï¼‰",
  "content": "# ä¸»æ ‡é¢˜\n\næ–‡ç« å†…å®¹æ”¯æŒ**Markdown**æ ¼å¼\n\n- åˆ—è¡¨é¡¹1\n- åˆ—è¡¨é¡¹2",
  "tags": ["æ ‡ç­¾1", "æ ‡ç­¾2", "æ ‡ç­¾3"]
}
```

### å†…å®¹ç¼–å†™è¦ç‚¹
- **æ ‡é¢˜**ï¼šç®€æ´æ˜äº†ï¼Œå¸å¼•è¯»è€…
- **å†…å®¹**ï¼šæ”¯æŒå®Œæ•´Markdownè¯­æ³•
- **æ ‡ç­¾**ï¼šæœ€å¤š5ä¸ªï¼Œæœ‰åŠ©äºæ–‡ç« å‘ç°
- **å‰¯æ ‡é¢˜**ï¼šå¯é€‰ï¼Œæä¾›é¢å¤–æè¿°

## ğŸ”„ å‘å¸ƒæµç¨‹

```
1. åˆå§‹åŒ–å‘å¸ƒå™¨
   â†“
2. Cookieè®¤è¯
   â†“
3. è·å–ç”¨æˆ·ä¿¡æ¯
   â†“
4. å°è¯•å‘å¸ƒæ–¹æ³•:
   - GraphQL API
   - è½»é‡çº§API  
   - å…ƒæ•°æ®APIç»„åˆ
   - æ¨¡æ‹Ÿå‘å¸ƒï¼ˆå¤‡ç”¨ï¼‰
   â†“
5. è¿”å›å‘å¸ƒç»“æœ
```

## ğŸ“Š å‘å¸ƒçŠ¶æ€è¯´æ˜

### æˆåŠŸçŠ¶æ€
- âœ… **GraphQL** - ä½¿ç”¨GraphQL APIæˆåŠŸå‘å¸ƒ
- âœ… **LiteAPI** - ä½¿ç”¨è½»é‡çº§APIæˆåŠŸå‘å¸ƒ  
- âœ… **MetadataCombo** - ä½¿ç”¨å…ƒæ•°æ®APIç»„åˆæˆåŠŸå‘å¸ƒ
- âœ… **Simulation** - æ¨¡æ‹Ÿå‘å¸ƒæˆåŠŸï¼ˆæ¼”ç¤ºæ¨¡å¼ï¼‰

### é”™è¯¯çŠ¶æ€
- âŒ **400** - è¯·æ±‚å‚æ•°é”™è¯¯
- âŒ **401/403** - è®¤è¯å¤±è´¥
- âŒ **429** - è¯·æ±‚é¢‘ç‡é™åˆ¶
- âŒ **500** - æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

## ğŸ› ï¸ æ•…éšœæ’é™¤

### Cookieç›¸å…³é—®é¢˜

**é—®é¢˜**: æœªæ‰¾åˆ°Cookieæ–‡ä»¶
```bash
âŒ æœªæ‰¾åˆ°Cookieæ–‡ä»¶
```
**è§£å†³**: é‡æ–°å¯¼å‡ºCookieå¹¶ä¿å­˜ä¸ºcookies.json

**é—®é¢˜**: Cookieå·²è¿‡æœŸ
```bash
âŒ ç”¨æˆ·è®¤è¯å¤±è´¥
```
**è§£å†³**: é‡æ–°ç™»å½•Mediumå¹¶æ›´æ–°Cookie

### å‘å¸ƒé™åˆ¶é—®é¢˜

**é—®é¢˜**: 429é¢‘ç‡é™åˆ¶
```bash
âŒ Request failed with status code 429
```
**è§£å†³**: ç­‰å¾…ä¸€æ®µæ—¶é—´åé‡è¯•ï¼Œæˆ–å¢åŠ å‘å¸ƒé—´éš”

**é—®é¢˜**: æ‰€æœ‰APIæ–¹æ³•éƒ½å¤±è´¥
```bash
âŒ æ‰€æœ‰APIæ–¹å¼éƒ½å¤±è´¥äº†
```
**è§£å†³**: æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼Œç¡®è®¤Cookieæœ‰æ•ˆæ€§

### ç½‘ç»œè¿æ¥é—®é¢˜

**é—®é¢˜**: ç½‘ç»œè¶…æ—¶
```bash
âŒ Request failed with status code ECONNRESET
```
**è§£å†³**: æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼Œå°è¯•ä½¿ç”¨ä»£ç†

## ğŸ“‹ é«˜çº§ç”¨æ³•

### æ‰¹é‡å‘å¸ƒ
```javascript
const { CustomPublisher } = require('./scripts/custom-publish');

const publisher = new CustomPublisher();
const articles = [
  { title: "æ–‡ç« 1", content: "å†…å®¹1", tags: ["tag1"] },
  { title: "æ–‡ç« 2", content: "å†…å®¹2", tags: ["tag2"] }
];

await publisher.publishBatch(articles, 5000); // 5ç§’é—´éš”
```

### ç¼–ç¨‹æ¥å£
```javascript
const WorkingReversePublisher = require('./lib/working-reverse-publisher');

const publisher = new WorkingReversePublisher();
await publisher.init();

const result = await publisher.publishArticle({
  title: "æˆ‘çš„æ–‡ç« ",
  content: "æ–‡ç« å†…å®¹",
  tags: ["æ ‡ç­¾1", "æ ‡ç­¾2"]
});

console.log(result.url); // æ–‡ç« é“¾æ¥
```

## ğŸ¯ æœ€ä½³å®è·µ

### å‘å¸ƒé¢‘ç‡
- **å•ç¯‡å‘å¸ƒ**: éšæ—¶å¯ç”¨
- **æ‰¹é‡å‘å¸ƒ**: å»ºè®®é—´éš”5-10ç§’
- **å¤§é‡å‘å¸ƒ**: åˆ†æ‰¹è¿›è¡Œï¼Œé¿å…è§¦å‘é™åˆ¶

### å†…å®¹è´¨é‡
- ç¡®ä¿å†…å®¹åŸåˆ›æ€§
- ä½¿ç”¨æ°å½“çš„æ ‡ç­¾
- æ ¼å¼åŒ–è‰¯å¥½çš„Markdown

### å®‰å…¨è€ƒè™‘
- å®šæœŸæ›´æ–°Cookie
- ä¸è¦åˆ†äº«Cookieæ–‡ä»¶
- éµå®ˆMediumç¤¾åŒºå‡†åˆ™

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### æŸ¥çœ‹æ—¥å¿—
å‘å¸ƒè¿‡ç¨‹ä¸­çš„è¯¦ç»†æ—¥å¿—ä¼šæ˜¾ç¤ºåœ¨æ§åˆ¶å°ï¼ŒåŒ…å«ï¼š
- è®¤è¯çŠ¶æ€
- APIè°ƒç”¨è¯¦æƒ…
- é”™è¯¯ä¿¡æ¯
- æˆåŠŸç»“æœ

### ç”ŸæˆæŠ¥å‘Š
å¤§éƒ¨åˆ†è„šæœ¬ä¼šè‡ªåŠ¨ç”Ÿæˆè¯¦ç»†çš„JSONæŠ¥å‘Šæ–‡ä»¶ï¼š
- `working-publisher-test-*.json` - æµ‹è¯•æŠ¥å‘Š
- `api-discovery-report-*.json` - APIå‘ç°æŠ¥å‘Š
- `precise-test-report-*.json` - ç²¾ç¡®æµ‹è¯•æŠ¥å‘Š

### è°ƒè¯•æ¨¡å¼
```bash
# å¯ç”¨è¯¦ç»†æ—¥å¿—
DEBUG=* node scripts/custom-publish.js
```

---

ğŸ‰ **æ­å–œï¼æ‚¨ç°åœ¨å¯ä»¥åœ¨æ²¡æœ‰å®˜æ–¹API Tokençš„æƒ…å†µä¸‹ï¼Œå®ç°Mediumæ–‡ç« çš„å®Œå…¨è‡ªåŠ¨åŒ–å‘å¸ƒï¼** 